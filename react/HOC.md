## HOC是什么（高阶组件可以看作 React对装饰模式的一种实现，高阶组件就是一个函数，且该函数接受一个组件作为参数，并返回一个新的组件。）
> 高阶组件（ HOC）是 React中的高级技术，用来重用组件逻辑。但高阶组件本身并不是 ReactAPI。它只是一种模式，这种模式是由 React自身的组合性质必然产生的。   

![HOC脑图](https://user-gold-cdn.xitu.io/2019/9/24/16d624418b65e83b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

# 实现方式：
  1. 属性代理
    * 函数返回一个我们自己定义的组件，然后在 render中返回要包裹的组件，这样我们就可以代理所有传入的 props，并且决定如何渲染，实际上 ，这种方式生成的高阶组件就是原组件的父组件，上面的函数 visible就是一个 HOC属性代理的实现方式。
    * 对比原生组件增强的项：（可操作所有传入的 props；可操作组件的生命周期；可操作组件的 static方法；获取 refs）
  2. 反向继承
    * 返回一个组件，继承原组件，在 render中调用原组件的 render。由于继承了原组件，能通过this访问到原组件的 生命周期、props、state、render等，相比属性代理它能操作更多的属性。
    * 对比原生组件增强的项：（可操作所有传入的 props；可操作组件的生命周期；可操作组件的 static方法；获取 refs；**可操作 state；可以渲染劫持**）
    * 
# [实际应用场景：](https://juejin.im/post/6844903815762673671)
  1. 日志打点
  2. 权限控制
  3. 双向绑定
  4. 表单校验


### 高阶组件(HOC)和Mixin的异同点是什么？
![示意图](https://user-gold-cdn.xitu.io/2019/9/24/16d62441af372e5a?imageslim)
> Mixin和 HOC都可以用来解决 React的代码复用问题。

## Mixin存在的问题
* Mixin 可能会相互依赖，相互耦合，不利于代码维护
* 不同的 Mixin中的方法可能会相互冲突
* Mixin非常多时，组件是可以感知到的，甚至还要为其做相关处理，这样会给代码造成滚雪球式的复杂性
## HOC的作用：
* 高阶组件就是一个没有副作用的纯函数，各个高阶组件不会互相依赖耦合
* 高阶组件也有可能造成冲突，但我们可以在遵守约定的情况下避免这些行为
* 高阶组件并不关心数据使用的方式和原因，而被包裹的组件也不关心数据来自何处。高阶组件的增加不会为原组件增加负担











<!-- // https://juejin.im/post/5cad39b3f265da03502b1c0a -->
<!-- https://mp.weixin.qq.com/s?__biz=Mzg2NDAzMjE5NQ==&mid=2247484193&idx=1&sn=0c152afb3566f2b600b0e218d5d24017&chksm=ce6ec78df9194e9b3e0e4f18706fd84be22f0f84d1e7554892e169a30265c6fa154731c1c7a3&scene=21#wechat_redirect -->